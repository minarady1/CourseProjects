%Documentation In Progress
%% GeoLoc matrix containas X,Y coordinates for each Rx
GeoLoc=[3.54732610500000,3.43739328700000;3.40785443700000,1.95555347800000;2.23391162100000,1.87018206300000;4.57599986300000,0.382573566000000;1.16831153900000,3.26652687300000;0.301237897000000,1.77083961300000;4.74269112500000,4.34995620300000;1.58473559600000,2.44023907700000;1.66980452700000,1.06341398000000;4.65990525400000,1.06231488300000;0.391860386000000,1.45824952400000;1.93616171200000,1.24722921300000;3.37444290600000,1.41697202000000;3.67976491200000,0.524908001000000;2.54701931600000,3.61885030500000;2.14679971600000,0.877766696000000;3.07880836200000,2.01541315300000;0.871966811000000,0.906307033000000;4.55530439100000,3.86599483500000;4.74849308100000,2.24943149500000;1.22640901100000,2.90870050700000;1.41567000300000,0.0900230370000000;2.31957845700000,3.19986643000000;2.24021075100000,2.26043923400000;0.503282456000000,0.745087023000000;4.93972403900000,1.62595766700000;0.441615364000000,1.50570226100000;2.73636862600000,2.97331999200000;0.977125650000000,2.69201143900000;0.575689463000000,2.95159599300000;4.37431952100000,4.61438814800000;0.294472960000000,3.85890162200000;2.59992069900000,1.99921962300000;1.98345930600000,3.13870403800000;1.58413655500000,3.90815646900000;2.00249537700000,4.68141502900000;1.19356678400000,2.04946237700000;2.13081664600000,3.73370945800000;4.14896984700000,3.89197940400000;0.278463111000000,4.07416153500000;2.26176941900000,4.43041451300000;2.07450434100000,4.28047891600000;1.45938638700000,4.57471268400000;1.09967683100000,3.95404683700000;1.06711852800000,3.44184287500000;0.500000000000000,4.20000000000000];
%% TxMap matrix containas X,Y coordinates for each Tx
TxMap=[0.5,4.5;4.5,4.5;4.5,0.5;0.5,0.5];

%% RxMAP matrix contains distances between each Rx and Tx (using Euclidian formula)
RxMap=[3.22727894900000,3.86391324000000,3.14998284000000,5.79370134900000,1.40288854400000,2.73638864000000,4.24534346300000,2.32793178000000,3.63022948300000,5.39652579700000,3.04367214600000,3.55571065400000,4.21514929100000,5.09040875500000,2.22861231800000,3.97901035600000,3.58098092200000,3.61289197800000,4.10456529400000,4.80778036700000,1.74925816500000,4.50403689700000,2.23633921000000,2.83618861900000,3.75491441100000,5.28878708900000,2.99486689400000,2.70778442200000,1.86988543100000,1.55025283800000,3.87600779200000,0.673237324000000,3.26551212500000,2.01339966500000,1.23516429500000,1.51340799900000,2.54679593300000,1.80187794400000,3.69927965900000,0.480017700000000,1.76314311000000,1.58973376000000,0.962291133000000,0.810972969000000,1.20054984300000,0.300000000000000;1.42713719600000,2.76893301300000,3.47146927400000,4.11812778000000,3.55268967900000,5.00778589900000,0.285328097000000,3.56950719300000,4.45198044500000,3.44140213400000,5.11165893300000,4.14171275600000,3.28206342100000,4.05883505500000,2.14255883000000,4.31950525900000,2.86233427000000,5.10658926900000,0.636412700000000,2.26424543800000,3.63986703600000,5.38154144700000,2.53861879900000,3.18155306100000,5.48389666100000,2.90748629600000,5.04344176100000,2.33262673200000,3.95973058700000,4.21874011500000,0.169941846000000,4.25411151900000,3.14073301100000,2.86113679500000,2.97532156100000,2.50408481300000,4.11553584100000,2.49002629700000,0.702076359000000,4.24296030000000,2.23931200900000,2.43540934900000,3.04153137900000,3.44387318500000,3.59226553800000,4.01123422400000;3.08801989500000,1.81973016100000,2.64812300100000,0.139874753000000,4.33056797000000,4.38687092600000,3.85759792400000,3.50189866000000,2.88573071000000,0.584609030000000,4.21841833400000,2.67050899000000,1.45179766400000,0.820613191000000,3.67985879900000,2.38332944700000,2.07756171900000,3.65071366000000,3.36644913900000,1.76699161500000,4.06426329000000,3.11145828200000,3.47037704700000,2.86457566600000,4.00422511600000,1.20877537100000,4.18113894600000,3.03771417400000,4.14916351000000,4.62715205100000,4.11630725400000,5.38225582700000,2.42032246400000,3.64633186400000,4.48528596000000,4.87049904900000,3.65148384500000,4.00872880400000,3.41009478500000,5.53136550800000,4.52303375800000,4.49166450500000,5.08415328200000,4.84692038400000,4.52096391300000,5.44885309000000;4.23254955300000,3.25180770600000,2.20994307500000,4.07769099500000,2.84610457500000,1.28628911900000,5.72910034300000,2.22287628800000,1.29841362600000,4.19773864700000,0.964332063000000,1.61892308700000,3.01716086800000,3.17986246600000,3.73061862200000,1.68957301700000,2.99110842200000,0.550858161000000,5.27023860300000,4.59458420500000,2.51585138300000,1.00326101600000,3.25578631100000,2.47537466900000,0.245109003000000,4.58027621500000,1.00739555500000,3.33446493600000,2.24333747600000,2.45276411600000,5.65141943100000,3.36518372000000,2.58017953200000,3.02711257000000,3.57643434000000,4.44316598900000,1.69760671000000,3.62166257300000,4.98201818800000,3.58102070200000,4.30720207600000,4.09525148800000,4.18613254600000,3.50571702400000,2.99600783200000,3.70000000000000];

fismat = readfis('LPWAN-Ass5-3.fis');
%%out = evalfis(RxMap(:,1),fismat);

for i = 1:size(GeoLoc,1) 
    evals(:,i)= evalfis(RxMap(:,i),fismat);
    plotx(i,:)= [GeoLoc(i,1), GeoLoc(i,2),(evals(i)-45)*8];
end
figure;
scatter(plotx(:,1),plotx(:,2),plotx(:,3));
hold on;
scatter(TxMap(:,1),TxMap(:,2),100,'filled');
axis ([0 5 0 5]);
disp(evals);